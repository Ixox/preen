               
 _______  _______  _______  _______  _       
(  ____ )(  ____ )(  ____ \(  ____ \( (    /|
| (    )|| (    )|| (    \/| (    \/|  \  ( |
| (____)|| (____)|| (__    | (__    |   \ | |
|  _____)|     __)|  __)   |  __)   | (\ \) |
| (      | (\ (   | (      | (      | | \   |
| )      | ) \ \__| (____/\| (____/\| )  \  |
|/       |/   \__/(_______/(_______/|/    )_)
                                            
V0.0 pre alpha
By Xavier Hosxe : xavier dot hosxe {at} gmail dot com
March 8th 2011

-----------------------------------------
Frequency modulation synth for the Maple :
http://leaflabs.com/

Distributed under the terms of the GNU General Public License 
as published by the Free Software Foundation version 3.

-----------------------------------------

Preen Current Features:

. 5 FM voices
. Each voice 3 FM operators (sin only for the moment) 
. Each operator has a ADSR envelope
. 4 LFO (saw, square, ramp)
. 6 rows modulation matrix
. 3 FM algo available... to be explained

. Sampling rate : 
  32768 Hz (makes division faster ;-) for audio
  1024 Hz for LFO and Matrix

. The full synth state (19 * 4 parameters) can be edited with the 4 Encoders throw the 19 rows.
. The 5 buttons allow easy navigation into the 19 rows (1 engine, 4 osc, 4 env, 6 matrix rows, 4 lfos)
. LCD is updated in realtime showing the parameter you modify.

--------------------------------------------
DONE
Update March 8th 2011
. Removed click when all the voices are buisy and a 6th note arrive...
. Remove click when a same note is hit quickly several time.

Update March 6th 2011
. Refactoring :
  Add "EncoderListener" and "separation of concern" between Encoders, FMDisplay, and SynthStatus. 
  Will make Menu maintenance much easier.

Update March 5th 2011
. Dump preset on serialUSB when a button is pressed (to collect them)
. Get rid of the audio ring buffer, i was surprised to note a big improvement in the signal/noise ratio.
. Encoder improvement by calling them more regularly
. Make menu remember the row when go to an other part (E.G from osc to matrix) then back to the first one.

--------------------------------------------

In progress: 
. Use a 4*20 LCD instead of current 2*20... Cheap and usefull.
. (More) Presets in FLASH
. Write a synth menu (patch name... midi channel...)


To do before v0.1 (in no order) :
. Number of voices depenndent of the algo
. More Algos (4 operators)
. EEPROM 24LC256 <- save / load user patch
. Documentation
. Full midi implementation
	. Take care of midi channel
	. Implement all midi events
	. Read CC to change parameters
	. send CC when user move encoders
. Clean hardware design
. Hide parameters not used by the current ALGO.

Later V1.0 : 
. a nice PCB and a Box

Later V2.0 : 
. A version 2 with 2 maples (or more) in a chain to take care of more voices.


--------------------------------------------
Hardware (to be detailed)
. LCD LiquidCrystal compatible 4x20
. 2 74HC165 to plug buttons and rotary encoder
  (I used the DIN schema from midibox.org).
. 1 condensator and 1 resistor to make the 1st order Low pass filter.
. Midi plugs
.... Full schema soon... 

---------------------------------------------

Xavier


